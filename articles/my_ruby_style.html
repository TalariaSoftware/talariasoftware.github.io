<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>My Ruby Style | Talaria Software</title>



<meta name="description" content="Make your Ruby style beautiful.">



<link rel="icon" type="image/png"
  href="/images/favicons/favicon.png">

<link rel="icon" type="image/png"
  sizes="192x192"
  href="/images/favicons/favicon-192.png">

<link rel="apple-touch-icon-precomposed" type=""
  href="/images/favicons/favicon-57.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="72x72"
  href="/images/favicons/favicon-72.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="114x114"
  href="/images/favicons/favicon-114.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="144x144"
  href="/images/favicons/favicon-144.png">



<meta name="twitter:card" content="summary" />
<meta name='twitter:site:id' content='@TalariaSoftware'>
<meta name='twitter:title' content='My Ruby Style'>
<meta name='twitter:creator:id' content='@ExMember'>
<meta name='twitter:image' content='https://talariasoftware.com/images/foot-color.png'>

<meta property='og:locale' content='en'>
<meta property='og:site_name' content='Talaria Software'>
<meta property='og:title' content='My Ruby Style'>
<meta property='og:type' content='website'>
<meta property='og:url' content='https://talariasoftware.com/articles/my_ruby_style'>
<meta property='og:description' content='Make your Ruby style beautiful.'>
<meta property='og:image' content='https://talariasoftware.com/images/foot-color.png'>

    



<link rel="stylesheet"
  href="/assets/css/uswds-theme.css"
  media="screen">

<link rel="stylesheet"
  href="/assets/css/syntax.css"
  media="screen">


    
    <link rel='stylesheet'
          href='https://use.fontawesome.com/releases/v5.4.1/css/all.css'
          integrity='sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz'
          crossorigin='anonymous'>
    <link href="/articles.xml" rel="alternate" title="Talaria Software articles" type="application/rss+xml">
  </head>
  <body class="  ">

    <a class="usa-skipnav" href="#main-content">Skip to main content</a>

    




  <div class="usa-overlay"></div>

  <header class="usa-header usa-header--extended" role="banner">


  
    <div class="usa-navbar">
      <div class="usa-logo" id="header-logo">
        <a
          href="/"
          title="Home">
          
            <img
              class="usa-logo-img"
              src="/images/foot-color.png"
              alt="Talaria Software logo">
          
          <em class="usa-logo__text">
            Talaria Software
          </em>
        </a>
      </div>
      <button class="usa-menu-btn">Menu</button>
    </div>

    <nav role="navigation" class="usa-nav">
      <div class="usa-nav__inner">
        <button class="usa-nav__close">
          <img src="/assets/uswds/img/close.svg" alt="close">
        </button>

        
        
        
        <ul class="usa-nav__primary usa-accordion">
          
          <li class="usa-nav__primary-item">
            
              <a class=" usa-nav__link  " href="/articles">
                <span>Articles</span>
              </a>
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              <a class=" usa-nav__link  " href="/articles/joyful_rails">
                <span>Joyful Rails</span>
              </a>
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              <a class=" usa-nav__link  " href="/consulting">
                <span>Consulting</span>
              </a>
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              <a class=" usa-nav__link  " href="/about">
                <span>About</span>
              </a>
            
          </li>
          
        </ul>
        

        

        
          
          <div class="usa-nav__secondary">
            <ul class="usa-unstyled-list usa-nav__secondary-links">
              
              
                <li class="usa-nav__secondary-item">
                  <a href=""
                  >
                    
                  </a>
                </li>
              
            </ul>
            
          </div>
          


        </div>
      </div>
    </nav>
  
  </header>




    
    


    

    

    
      
      




    
    

    
      <div class="usa-section">
  <div class="grid-container">
    <div class="grid-row grid-gap flex-align-start">
      <main class="usa-layout-docs usa-layout-docs__main usa-prose" id="main-content">
        <h1>My Ruby Style</h1>
        <h6>Published: Nov 24th, 2020</h6>
        
          <h6>Updated: Dec 30th, 2020</h6>
        
        <p>This is part of <a href="/articles/joyful_rails">Joyful Rails</a>, a list of
recommendations to make developing your Rails app more productive and joyful.</p>

<p>In this article, we are going to talk about my Ruby style.</p>

<h2 id="background">Background</h2>

<p>This is my Ruby style. It is not right or wrong. It is a collection of
personal preferences reflecting my values and trade-offs.</p>

<p>Your Ruby style may be different. Decisions on coding style should reflect the
environment and preferences of the people reading and writing the code.</p>

<h2 id="about-this-article">About this article</h2>

<p>I am going to be describing my Ruby style as a collection of configuration
settings to RuboCop.</p>

<p>If you agree with me, you can add the settings below to your Rubocop configuration.</p>

<h2 id="use-rails-cops">Use Rails cops</h2>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">require</span><span class="pi">:</span> <span class="s">rubocop-rails</span>
</code></pre></div></div>

<h2 id="enable-new-cops">Enable new cops</h2>

<p>New cops are added all the time and by default are pending until the next major
release. Enable them automatically so you can more easily stay up to date.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">AllCops</span><span class="pi">:</span>
  <span class="na">NewCops</span><span class="pi">:</span> <span class="s">enable</span>
</code></pre></div></div>
<h3 id="global-exclusion">Global exclusion</h3>

<p>Exclude generated files from RuboCop enforcement. I don’t write, read, or edit
these files so I don’t care about their style.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">AllCops</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">bin/*</span>
    <span class="pi">-</span> <span class="s">config.ru</span>
    <span class="pi">-</span> <span class="s">db/schema.rb</span>
    <span class="pi">-</span> <span class="s">node_modules/**/*</span>
</code></pre></div></div>

<h3 id="documentation"><a href="https://docs.rubocop.org/rubocop/cops_style.html#styledocumentation">Documentation</a></h3>

<p>A combination of clear naming and RSpec specifications obviates the need for
class documentation blocks.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/Documentation</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div></div>

<h3 id="argument-alignment"><a href="https://docs.rubocop.org/rubocop/cops_layout#layoutargumentalignment">Argument Alignment</a></h3>

<p>The default style, <code class="language-plaintext highlighter-rouge">with_first_argument</code>, wastes too much space.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">method_name</span><span class="p">(</span><span class="ss">:first_arg</span>
            <span class="ss">:second_arg</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">with_fixed_indentation</code> is great for methods with a lot of arguments.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">method_with_a_long_name</span><span class="p">(</span><span class="ss">:first</span><span class="p">,</span> <span class="ss">:second</span><span class="p">,</span> <span class="ss">:third</span><span class="p">,</span>
  <span class="ss">:forth</span><span class="p">,</span> <span class="ss">:fifth</span><span class="p">,</span> <span class="ss">:sixth</span><span class="p">,</span> <span class="ss">:seventh</span><span class="p">,</span> <span class="ss">:eigth</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/ArgumentAlignment</span><span class="pi">:</span>
  <span class="na">EnforcedStyle</span><span class="pi">:</span> <span class="s">with_fixed_indentation</span>
</code></pre></div></div>

<h3 id="first-array-element-indentation"><a href="https://docs.rubocop.org/rubocop/cops_layout#layoutfirstarrayelementindentation">First Array Element Indentation</a></h3>

<!-- Why -->

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/FirstArrayElementIndentation</span><span class="pi">:</span>
  <span class="na">EnforcedStyle</span><span class="pi">:</span> <span class="s">consistent</span>
</code></pre></div></div>

<h3 id="hash-alignment"><a href="https://docs.rubocop.org/rubocop/cops_layout#layouthashalignment">Hash Alignment</a></h3>

<p>Implicit hashes do not need to be formatted like hashes.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/HashAlignment</span><span class="pi">:</span>
  <span class="na">EnforcedLastArgumentHashStyle</span><span class="pi">:</span> <span class="s">ignore_implicit</span>
</code></pre></div></div>

<h3 id="line-length"><a href="https://docs.rubocop.org/rubocop/cops_layout#layoutlinelength">Line Length</a></h3>

<p>Cop directives should not need to be under our line length requirements.
This makes it much easer to apply a cop directive to a single line of code.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/LineLength</span><span class="pi">:</span>
  <span class="na">IgnoreCopDirectives</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<p>Allow comments to be really long. A lot of the boilerplate comments generated by
Rails are over 80 characters. With this, you won’t need to fix them or delete
them.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/LineLength</span><span class="pi">:</span>
  <span class="na">IgnoredPatterns</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">^\s*#</span><span class="nv"> </span><span class="s">'</span>
</code></pre></div></div>

<h3 id="parameter-alignment"><a href="https://docs.rubocop.org/rubocop/cops_layout#layoutparameteralignment">Parameter Alignment</a></h3>

<p>Similar to argument alignment, the default setting <code class="language-plaintext highlighter-rouge">with_first_parameter</code> wastes
too much space.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Layout/ParameterAlignment</span><span class="pi">:</span>
  <span class="na">EnforcedStyle</span><span class="pi">:</span> <span class="s">with_fixed_indentation</span>
</code></pre></div></div>

<h3 id="ambiguous-block-association"><a href="https://docs.rubocop.org/rubocop/cops_lint#lintambiguousblockassociation">Ambiguous Block Association</a></h3>

<p>Writing idiomatic RSpec requires violating this rule, so we exclude RSpec files
from it.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Lint/AmbiguousBlockAssociation</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">**/*_spec.rb"</span>
</code></pre></div></div>

<h3 id="block-length"><a href="https://docs.rubocop.org/rubocop/cops_metrics#metricsblocklength">Block Length</a></h3>

<p>Idiomatic RSpec often has very long blocks. There is no harm in configuration
files having long blocks. So we exclude both of those.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Metrics/BlockLength</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">Guardfile</span>
    <span class="pi">-</span> <span class="s">config/environments/*</span>
    <span class="pi">-</span> <span class="s">config/routes.rb</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">**/*_spec.rb"</span>
</code></pre></div></div>

<h3 id="method-length"><a href="https://docs.rubocop.org/rubocop/cops_metrics#metricsmethodlength">Method Length</a></h3>

<p>It usually isn’t helpful to break up migration methods, so we allow them to get
as long as they need.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Metrics/MethodLength</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">db/migrate/*.rb"</span>

</code></pre></div></div>

<h3 id="block-delimiters"><a href="https://docs.rubocop.org/rubocop/cops_style#styleblockdelimiters">Block Delimiters</a></h3>

<p>Use <code class="language-plaintext highlighter-rouge">do</code>…<code class="language-plaintext highlighter-rouge">end</code> for a multiline block, unless you are chaining.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">words</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">word</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">word</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">words</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">word</span><span class="o">|</span>
  <span class="n">word</span><span class="p">.</span><span class="nf">flip</span><span class="p">.</span><span class="nf">flop</span>
<span class="p">}.</span><span class="nf">join</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/BlockDelimiters</span><span class="pi">:</span>
  <span class="na">EnforcedStyle</span><span class="pi">:</span> <span class="s">braces_for_chaining</span>
</code></pre></div></div>

<h3 id="empty-method"><a href="https://docs.rubocop.org/rubocop/cops_style#styleemptymethod">Empty Method</a></h3>

<p>Empty methods are unlikely to stay empty, so let’s make it easy to edit them.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">empty_method</span>
<span class="k">end</span>
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/EmptyMethod</span><span class="pi">:</span>
  <span class="na">EnforcedStyle</span><span class="pi">:</span> <span class="s">expanded</span>
</code></pre></div></div>

<h3 id="frozen-string-literal-comment"><a href="https://docs.rubocop.org/rubocop/cops_style#stylefrozenstringliteralcomment">Frozen String Literal Comment</a></h3>

<p>The eventual transition to frozen string literals will not be difficult for a
codebase with good specs. There is no need to clutter up our files trying to
prepare for it.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/FrozenStringLiteralComment</span><span class="pi">:</span>
  <span class="na">Enabled</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div></div>

<h3 id="string-literals"><a href="https://docs.rubocop.org/rubocop/cops_style#stylestringliterals">String Literals</a></h3>

<p>String literals should be double-quoted when interpolated, when they include a
single-quote character, or when they are natural language texts.</p>

<p>Natural language strings often use single quotes as apostrophes for contractions
and possessives. Using double quotes means being able to change the text,
including adding or removing apostrophes, without having to alter the quote
characters.</p>

<p>For this reason, we exclude Ruby files that are likely to contain natural
language text strings.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/StringLiterals</span><span class="pi">:</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">lib/tasks/*.rake</span>
    <span class="pi">-</span> <span class="s">spec/**/*_spec.rb</span>
</code></pre></div></div>

<h3 id="trailing-commas">Trailing Commas</h3>

<p>Including trailing commas in
<a href="https://docs.rubocop.org/rubocop/cops_style#styletrailingcommainarguments">arguments</a>,
<a href="https://docs.rubocop.org/rubocop/cops_style#styletrailingcommainarrayliteral">array
literals</a>,
and <a href="https://docs.rubocop.org/rubocop/cops_style#styletrailingcommainhashliteral">hash
literals</a>
makes it easier to add, remove, and reorder items.</p>

<p>As a bonus, it makes it easier to read Git commits because changing one item
only changes one line in the file.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Style/TrailingCommaInArguments</span><span class="pi">:</span>
  <span class="na">EnforcedStyleForMultiline</span><span class="pi">:</span> <span class="s">comma</span>

<span class="na">Style/TrailingCommaInArrayLiteral</span><span class="pi">:</span>
  <span class="na">EnforcedStyleForMultiline</span><span class="pi">:</span> <span class="s">comma</span>

<span class="na">Style/TrailingCommaInHashLiteral</span><span class="pi">:</span>
  <span class="na">EnforcedStyleForMultiline</span><span class="pi">:</span> <span class="s">comma</span>
</code></pre></div></div>

      </main>
    </div>
  </div>
</div>

    

    

    


  
<footer class="usa-footer">

  

  
    
    
    
    
  <div class="usa-footer__primary-section">
    <nav class="usa-footer__nav" aria-label="Footer navigation">
      <ul class="grid-row grid-gap">
        
        <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
          <a class="usa-footer__primary-link" href="/articles">
            Articles
          </a>
        </li>
        
        <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
          <a class="usa-footer__primary-link" href="/articles/joyful_rails">
            Joyful Rails
          </a>
        </li>
        
        <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
          <a class="usa-footer__primary-link" href="/consulting">
            Consulting
          </a>
        </li>
        
        <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
          <a class="usa-footer__primary-link" href="/about">
            About
          </a>
        </li>
        
      </ul>
    </nav>
  </div>
  

  
  <div class="usa-footer__secondary-section">
    <div class="grid-container">
      <div class="grid-row grid-gap">
        <div class="usa-footer__logo grid-row mobile-lg:grid-col-6 mobile-lg:grid-gap-2">
          
            <div class="mobile-lg:grid-col-auto">
                
                  <img class="usa-footer__logo-img" src="/images/foot-color.png" alt="Talaria Software logo">
                
              </div>
            
          

          
          <div class="mobile-lg:grid-col-auto">
            <h3 class="usa-footer__logo-heading">Talaria Software</h3>
          </div>
          
        </div>

        
        <div class="usa-footer__contact-links mobile-lg:grid-col-6">
          
          
            <div class="usa-footer__social-links grid-row grid-gap-1">
              <div class="grid-col-auto">
                
                  <a class="usa-social-link usa-social-link--twitter" href="https://twitter.com/talariasoftware">
                    <span>Twitter</span>
                  </a>
                
                  <a class="usa-social-link usa-social-link--github" href="https://github.com/talariasoftware">
                    <span>GitHub</span>
                  </a>
                
              </div>
            </div>
          
          
            <h3 class="usa-footer__contact-heading">Contact</h3>
            
            
              <address class="usa-footer__address">
                
                <div class="usa-footer__contact-info grid-row grid-gap">
                
                    <div class="grid-col-auto">
                      <a href="mailto:help@talariasoftware.com">
                        help@talariasoftware.com
                      </a>
                    </div>
                
                </div>
              </address>

              
                <div class="usa-footer__contact-info grid-row grid-gap">
                  <ul class="policy-list usa-list usa-list--unstyled text-right">
                    
                        <li class="display-inline">
                          <a href="/privacy_policy">
                            Privacy Policy
                          </a>
                        </li>
                    
                        <li class="display-inline">
                          <a href="/terms_of_service">
                            Terms of Service
                          </a>
                        </li>
                    
                  </ul>
                </div>
              

              <div>
                &copy; 2015&mdash;2021 Talaria Research LLC
              </div>
          
        
      </div>
      
      </div>
    </div>
  </div>
  

</footer>





    





  
    
      <script src="/assets/uswds/js/uswds.min.js" async></script>
    

  
    






  </body>
</html>
